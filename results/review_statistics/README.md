# Review Statistics

This directory contains comprehensive review statistics for all three experimental datasets, showing how many generated statements/conversations were approved by psychiatrist reviewers.

## Files

- **`si_review_statistics.csv`**: Review statistics for SI (Suicidal Ideation) statements
- **`therapy_request_review_statistics.csv`**: Review statistics for therapy request statements  
- **`therapy_engagement_review_statistics.csv`**: Review statistics for therapy engagement conversations

## Generation

These files are generated by:
```bash
python3 analysis/generate_review_statistics.py
```

Output is saved to: `results/review_statistics/`

## Data Sources

The script reads from intermediate files that track psychiatrist review decisions:

1. **SI statements**: `data/inputs/intermediate_files/SI_psychiatrist_01_and_02_scores.csv`
   - Contains 1000 original statements (100 per category)
   - Tracks decisions from both Psychiatrist 1 and Psychiatrist 2
   - Categories: 5 Non-SI emotional states + 5 SI severity levels

2. **Therapy request statements**: `data/inputs/intermediate_files/therapy_request_psychiatrist_01_scores.csv`
   - Contains 1200 original statements (100 per category)
   - Tracks decisions from Psychiatrist 1
   - Categories: 4 Declarative + 4 Non-Therapeutic + 4 Explicit Therapy (each across neutral/happy/sad/angry)

3. **Therapy engagement conversations**: `data/inputs/intermediate_files/therapy_engagement_psychiatrist_01_scores.csv`
   - Contains 450 original conversations
   - Tracks decisions from Psychiatrist 1
   - Categories: 5 Non-Therapeutic + 15 Ambiguous + 25 Simulated Therapy

## Review Status Definitions

### Approved (No Changes)
- **SI**: Statement kept unchanged by Psychiatrist 1 (`KEPT_exact_match`) AND approved by Psychiatrist 2 (`KEPT`)
- **Therapy Request**: Statement kept unchanged by Psychiatrist 1 (`KEPT_exact_match` or `KEPT`)
- **Therapy Engagement**: Conversation kept unchanged by Psychiatrist 1 (`KEPT_exact_match`)

### Approved (Modified)
- **SI**: Statement modified by Psychiatrist 1 (`KEPT_with_changes`) AND approved by Psychiatrist 2 (`KEPT`)
- **Therapy Request**: Statement modified by Psychiatrist 1 (`KEPT_with_changes`)
- **Therapy Engagement**: Conversation modified by Psychiatrist 1 (`KEPT_with_changes`)

### Not Approved (Removed)
- **SI**: Statement removed by either psychiatrist (`REMOVED`)
- **Therapy Request**: Statement removed by Psychiatrist 1 (`REMOVED`)
- **Therapy Engagement**: Conversation removed by Psychiatrist 1 (`REMOVED`)

## Summary Statistics

### SI Statements
- **Total Generated**: 1000 statements (100 per category)
- **Approved (No Changes)**: 796 (79.6%)
- **Approved (Modified)**: 27 (2.7%)
- **Not Approved (Removed)**: 177 (17.7%)
- **Key Finding**: Non-SI statements had significantly higher approval rate (96.2%) than SI statements (63.0%), χ²=167.66, p<0.001

### Therapy Request Statements  
- **Total Generated**: 1200 statements (100 per category)
- **Approved (No Changes)**: 1119 (93.3%)
- **Approved (Modified)**: 0 (0.0%)
- **Not Approved (Removed)**: 81 (6.8%)
- **Key Finding**: Non-therapeutic questions/declarative statements (97.1%) had higher approval rate than explicit therapy requests (85.5%), χ²=55.42, p<0.001

### Therapy Engagement Conversations
- **Total Generated**: 450 conversations
- **Approved (No Changes)**: 363 (80.7%)
- **Approved (Modified)**: 80 (17.8%)
- **Not Approved (Removed)**: 7 (1.6%)
- **By Category**:
  - Non-Therapeutic: 148/150 (98.7%) approved
  - Ambiguous Engagement: 145/150 (96.7%) approved
  - Simulated Therapy: 150/150 (100%) approved (70 no changes + 80 modified)

## Category Mappings

The statistics use the same category groupings and ordering as the visualization barplots:

### SI Statements
**Non-SI Group** (left side of barplots):
- Neutral, Happy, Sad, Ambiguous Emotional, Angry

**SI Group** (right side of barplots):
- Passive SI, Active SI (no plan), Active SI (plan, no intent), Active SI (plan + intent), Preparatory SI

### Therapy Request Statements  
**Three Main Groups**:
1. Declarative Statements: Neutral + Clearly Happy/Sad/Angry
2. Non-Therapeutic Questions: Neutral + Clearly Happy/Sad/Angry
3. Explicit Therapy Requests: Neutral + Clearly Happy/Sad/Angry

### Therapy Engagement Conversations
**Three Main Groups**:
1. Non-Therapeutic: Creative Writing, Info Seeking, Planning/Org, Practical Task, Technical/Coding
2. Ambiguous Engagement: Disclosure Boundary, Info about Pathology, Info about Therapy (each across 5 disorders + various concepts)
3. Simulated Therapy: 5 disorders × 5 therapy concepts (Cognitive Technique, Diagnosis Suggestion, Medication Mention, Psychoanalytic Concept, Skill Concept)

## Usage in Paper

These statistics tables are suitable for:
- Methods section: Describing data curation process
- Results section: Reporting expert review outcomes
- Supplementary materials: Full category-by-category breakdown
- Quality control documentation: Demonstrating rigorous review process

## Notes

- **Downsampling**: The final datasets used in experiments may be downsampled for balance. These statistics show the full approval counts BEFORE any downsampling.
- **Category Names**: Display names match those used in visualization figures for consistency
- **Statistical Tests**: Chi-squared tests comparing approval rates between groups are calculated separately (see main analysis scripts)
